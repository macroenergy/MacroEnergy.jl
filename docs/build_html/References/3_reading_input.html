<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reading input data · Macro</title><meta name="title" content="Reading input data · Macro"/><meta property="og:title" content="Reading input data · Macro"/><meta property="twitter:title" content="Reading input data · Macro"/><meta name="description" content="Documentation for Macro."/><meta property="og:description" content="Documentation for Macro."/><meta property="twitter:description" content="Documentation for Macro."/><meta property="og:url" content="https://macroenergy.github.io/Macro/stable/References/3_reading_input.html"/><meta property="twitter:url" content="https://macroenergy.github.io/Macro/stable/References/3_reading_input.html"/><link rel="canonical" href="https://macroenergy.github.io/Macro/stable/References/3_reading_input.html"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Macro</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome to Macro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><a class="tocitem" href="../table_of_contents.html">Table of contents</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Getting Started/1_overview.html">Overview</a></li><li><a class="tocitem" href="../Getting Started/2_installation.html">Installation</a></li><li><a class="tocitem" href="../Getting Started/3_first_run.html">First Run</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Tutorials/0_getting_started.html">Getting Started</a></li><li><a class="tocitem" href="../Tutorials/1_running_macro.html">Running Macro</a></li><li><a class="tocitem" href="../Tutorials/2_multisector_modelling.html">Multisector Modelling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../User Guide/1_sectors.html">Sectors</a></li><li><a class="tocitem" href="../User Guide/2_input_data.html">Input Data</a></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Assets</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../User Guide/assets/1_introduction.html">Macro Asset Library</a></li><li><a class="tocitem" href="../User Guide/assets/battery.html">Battery</a></li><li><a class="tocitem" href="../User Guide/assets/beccselectricity.html">BECCS Electricity</a></li><li><a class="tocitem" href="../User Guide/assets/beccshydrogen.html">BECCS Hydrogen</a></li><li><a class="tocitem" href="../User Guide/assets/electricdac.html">Electric DAC</a></li><li><a class="tocitem" href="../User Guide/assets/electrolyzer.html">Electrolyzer</a></li><li><a class="tocitem" href="../User Guide/assets/fuelcell.html">Fuel Cell</a></li><li><a class="tocitem" href="../User Guide/assets/gasstorage.html">Gas Storage</a></li><li><a class="tocitem" href="../User Guide/assets/hydrogenline.html">Hydrogen Line</a></li><li><a class="tocitem" href="../User Guide/assets/hydropower.html">Hydro Reservoir</a></li><li><a class="tocitem" href="../User Guide/assets/mustrun.html">Must Run</a></li><li><a class="tocitem" href="../User Guide/assets/natgasdaq.html">Natural Gas DAC</a></li><li><a class="tocitem" href="../User Guide/assets/powerline.html">Power Line</a></li><li><a class="tocitem" href="../User Guide/assets/thermalhydrogen.html">Thermal Hydrogen Plant (with and without CCS)</a></li><li><a class="tocitem" href="../User Guide/assets/thermalpower.html">Thermal Power Plant (with and without CCS)</a></li><li><a class="tocitem" href="../User Guide/assets/vre.html">Variable Renewable Energy resources (VRE)</a></li></ul></li><li><a class="tocitem" href="../User Guide/4_constraints.html">Constraints</a></li><li><a class="tocitem" href="../User Guide/5_output.html">Output</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Modeler Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Modeler Guide/1_introduction.html">Overview</a></li><li><a class="tocitem" href="../Modeler Guide/2_build_sectors.html">How to build a sector</a></li><li><a class="tocitem" href="../Modeler Guide/3_create_example_case.html">How to create an example case</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Developer Guide/1_introduction.html">Overview</a></li><li><a class="tocitem" href="../Developer Guide/2_type_hierarchy.html">Type hierarchy</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox" checked/><label class="tocitem" for="menuitem-7"><span class="docs-label">References</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="1_macro_objects.html">Macro Objects</a></li><li><a class="tocitem" href="2_assets.html">Asset Library</a></li><li class="is-active"><a class="tocitem" href="3_reading_input.html">Reading input data</a></li><li><a class="tocitem" href="4_writing_output.html">Writing output data</a></li><li><a class="tocitem" href="5_utilities.html">Utilities</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">References</a></li><li class="is-active"><a href="3_reading_input.html">Reading input data</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="3_reading_input.html">Reading input data</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/Macro" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/Macro/blob/main/docs/src/References/3_reading_input.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reading-input-functions"><a class="docs-heading-anchor" href="#Reading-input-functions">Reading input functions</a><a id="Reading-input-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-input-functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.prep_system_data" href="#MacroEnergy.prep_system_data"><code>MacroEnergy.prep_system_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prep_system_data(file_path::AbstractString, default_file_path::String)::Nothing</code></pre><p>This attempts to load the system data from the file at file_path, adds any missing fields from the default system data, and writes the updated system data back to the file. In the future, we may change this to not write to the file, but for now, it&#39;s a quick way to ensure the system data is up-to-date.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/default_system_data.jl#L34-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_default_system_data" href="#MacroEnergy.load_default_system_data"><code>MacroEnergy.load_default_system_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_default_system_data(default_file_path::String)::Dict{Symbol,Any}</code></pre><p>Load the default system data from a JSON file.  This describes the default locations for the system data files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/default_system_data.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_system_data" href="#MacroEnergy.load_system_data"><code>MacroEnergy.load_system_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_system_data(file_path::AbstractString, rel_path::AbstractString; default_file_path::String = joinpath(@__DIR__, &quot;default_system_data.json&quot;), lazy_load::Bool = true)::Dict{Symbol,Any}</code></pre><p>Load the system data (currently only from a JSON file) given a file path and directory to search for the file in. All other file names defined in the system data file are assumed to be relative to rel_path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_system_data.jl#L5-L10">source</a></section><section><div><pre><code class="language-julia hljs">load_system_data(system::System, file_path::AbstractString)::Dict{Symbol,Any}</code></pre><p>Load the system data (currently only from a JSON file) given a file path and existing System. All other file names defined in the system data file are assumed to be relative to the data_dirpath field of the System.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_system_data.jl#L30-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_json_inputs" href="#MacroEnergy.load_json_inputs"><code>MacroEnergy.load_json_inputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_json_inputs(file_path::AbstractString; rel_path::AbstractString=dirname(file_path), lazy_load::Bool = true)::Dict{Symbol,Any}

Load JSON data from a file and return a Dict{Symbol,Any} object. The data can all be included in the 
specified JSON file or distributed across multiple files and directories, with each source specified
using &quot;path&quot; or &quot;timeseries&quot; keys.\n 
The `rel_path` argument is used to specify the path relative to which the file paths of this distributed
data should be resolved.\n
If `lazy_load` is set to `true`, then only the top-level data in the specified JSON file will be loaded. 
If `lazy_load` is set to `false`, then the distrinuted data will be loaded recursively into the 
appropriate data structures.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_json_inputs.jl#L5-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.add_default_system_data!" href="#MacroEnergy.add_default_system_data!"><code>MacroEnergy.add_default_system_data!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_default_system_data!(system_data::AbstractDict{Symbol,Any}, default_file_path::String)::Nothing</code></pre><p>Add the default system data to the system data dictionary. This adds any required fields that are missing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/default_system_data.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.fetch_data" href="#MacroEnergy.fetch_data"><code>MacroEnergy.fetch_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fetch_data(path::AbstractString, dict::AbstractDict{Symbol, Any}, root_path::AbstractString, lazy_load::Bool = true)::Any

Fetch data from a JSON file or directory and return it as a Dict{Symbol,Any} object.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_json_inputs.jl#L90-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.eager_load_json_inputs" href="#MacroEnergy.eager_load_json_inputs"><code>MacroEnergy.eager_load_json_inputs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eager_load_json_inputs(json_data::AbstractDict{Symbol, Any}, rel_path::AbstractString)::AbstractDict{Symbol, Any}

Recursively loads data from sources specified in an input Dict{Symbol,Any} and returns a new 
Dict{Symbol,Any} object with the data inserted.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_json_inputs.jl#L28-L34">source</a></section><section><div><pre><code class="language-julia hljs">eager_load_json_inputs(json_data::AbstractVector{&lt;:AbstractDict{Symbol,Any}}, rel_path::AbstractString)::AbstractVector{&lt;:AbstractDict{Symbol,Any}}

Recursively loads data from sources specified in several input Dict{Symbol,Any}, stored as a Vector, 
and returns a new Vector{Dict{Symbol,Any}} object with the data inserted.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_json_inputs.jl#L51-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.clean_up_keys" href="#MacroEnergy.clean_up_keys"><code>MacroEnergy.clean_up_keys</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_up_keys(dict::AbstractDict{Symbol,Any})::AbstractDict{Symbol,Any}

Clean up a Dict{Symbol,Any} object by copying values from keys that match the key name.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_json_inputs.jl#L65-L70">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_csv" href="#MacroEnergy.load_csv"><code>MacroEnergy.load_csv</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_time_series_data(file_path::AbstractString, header::AbstractVector{Symbol})::Dict{Symbol,Any}

Load time series data from one or more headers in a CSV file and return as a DataFrame.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/Macro/blob/f5b342e6bb3845a28e953b655d03ce58ef120702/src/load_inputs/load_csv_inputs.jl#L5-L10">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="2_assets.html">« Asset Library</a><a class="docs-footer-nextpage" href="4_writing_output.html">Writing output data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Tuesday 11 March 2025 21:02">Tuesday 11 March 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
