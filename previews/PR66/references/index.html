<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>References · Macro</title><meta name="title" content="References · Macro"/><meta property="og:title" content="References · Macro"/><meta property="twitter:title" content="References · Macro"/><meta name="description" content="Documentation for Macro."/><meta property="og:description" content="Documentation for Macro."/><meta property="twitter:description" content="Documentation for Macro."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Macro</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><span class="tocitem">Macro Components</span><ul><li><a class="tocitem" href="../sectors/">Sectors</a></li><li><a class="tocitem" href="../assets/">Assets</a></li><li><a class="tocitem" href="../constraints/">Constraints</a></li></ul></li><li><a class="tocitem" href="../output/">Output</a></li><li><span class="tocitem">Modeling with Macro</span><ul><li><a class="tocitem" href="../build_sectors/">How to build a sector</a></li><li><a class="tocitem" href="../create_example_case/">How to create an example case</a></li></ul></li><li><span class="tocitem">Developer docs</span><ul><li><a class="tocitem" href="../type_hierarchy/">Type hierarchy</a></li><li><a class="tocitem" href="../data_model/">Data model</a></li></ul></li><li class="is-active"><a class="tocitem" href>References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>References</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>References</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl/blob/main/docs/src/references.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Package-Reference"><a class="docs-heading-anchor" href="#Package-Reference">Package Reference</a><a id="Package-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Package-Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.add_default_system_data!-Tuple{AbstractDict{Symbol, Any}}" href="#MacroEnergy.add_default_system_data!-Tuple{AbstractDict{Symbol, Any}}"><code>MacroEnergy.add_default_system_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_default_system_data!(system_data::AbstractDict{Symbol,Any})::Nothing</code></pre><p>Add the default system data to the system data dictionary. This adds any required fields that are missing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/default_system_data.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.clean_up_keys-Tuple{AbstractDict{Symbol, Any}}" href="#MacroEnergy.clean_up_keys-Tuple{AbstractDict{Symbol, Any}}"><code>MacroEnergy.clean_up_keys</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clean_up_keys(dict::AbstractDict{Symbol,Any})::AbstractDict{Symbol,Any}

Clean up a Dict{Symbol,Any} object by copying values from keys that match the key name.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_json_inputs.jl#L71-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.collect_results" href="#MacroEnergy.collect_results"><code>MacroEnergy.collect_results</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">collect_results(system::System, model::Model, scaling::Float64=1.0)</code></pre><p>Returns a <code>DataFrame</code> with all the results after the optimization is performed. </p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system object containing the case inputs.</li><li><code>model::Model</code>: The model being optimized.</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A `DataFrame containing all the outputs from a system.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">collect_results(system, model)
198534×12 DataFrame
    Row │ case_name  commodity    commodity_subtype  zone        resource_id                component_id                       type              variable  segment  time   value
        │ Missing    Symbol       Symbol             Symbol      Symbol                     Symbol                             Symbol            Symbol    Int64    Int64  Float64
────────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
      1 │   missing  Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      1  0.0
      2 │   missing  Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      2  0.0
      3 │   missing  Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      3  0.0
      ...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L258-L282">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.create_output_path" href="#MacroEnergy.create_output_path"><code>MacroEnergy.create_output_path</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_output_path(system::System, path::String=system.data_dirpath)</code></pre><p>Create and return the path to the output directory for storing results based on system settings.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system object containing settings and configuration</li><li><code>path::String</code>: Base path for the output directory (defaults to system.data_dirpath)</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: Path to the created output directory</li></ul><p>The function creates an output directory based on system settings. If <code>OverwriteResults</code>  is false, it will avoid overwriting existing directories by appending incremental numbers  (e.g., &quot;<em>001&quot;, &quot;</em>002&quot;) to the directory name. The directory is created if it doesn&#39;t exist.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; system.settings
(..., OverwriteResults = true, OutputDir = &quot;result_dir&quot;)
julia&gt; output_path = create_output_path(system)
# Returns &quot;path/to/system.data_dirpath/result_dir&quot; or &quot;path/to/system.data_dirpath/result_dir_001&quot; if original exists
julia&gt; output_path = create_output_path(system, &quot;path/to/output&quot;)
# Returns &quot;path/to/output/result_dir&quot; or &quot;path/to/output/result_dir_001&quot; if original exists</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L488-L513">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.eager_load_json_inputs-Tuple{AbstractDict{Symbol, Any}, AbstractString}" href="#MacroEnergy.eager_load_json_inputs-Tuple{AbstractDict{Symbol, Any}, AbstractString}"><code>MacroEnergy.eager_load_json_inputs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eager_load_json_inputs(json_data::AbstractDict{Symbol, Any}, rel_path::AbstractString)::AbstractDict{Symbol, Any}

Recursively loads data from sources specified in an input Dict{Symbol,Any} and returns a new 
Dict{Symbol,Any} object with the data inserted.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_json_inputs.jl#L34-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.eager_load_json_inputs-Tuple{AbstractVector{&lt;:AbstractDict{Symbol, Any}}, AbstractString}" href="#MacroEnergy.eager_load_json_inputs-Tuple{AbstractVector{&lt;:AbstractDict{Symbol, Any}}, AbstractString}"><code>MacroEnergy.eager_load_json_inputs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eager_load_json_inputs(json_data::AbstractVector{&lt;:AbstractDict{Symbol,Any}}, rel_path::AbstractString)::AbstractVector{&lt;:AbstractDict{Symbol,Any}}

Recursively loads data from sources specified in several input Dict{Symbol,Any}, stored as a Vector, 
and returns a new Vector{Dict{Symbol,Any}} object with the data inserted.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_json_inputs.jl#L57-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.fetch_data" href="#MacroEnergy.fetch_data"><code>MacroEnergy.fetch_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fetch_data(path::AbstractString, dict::AbstractDict{Symbol, Any}, root_path::AbstractString, lazy_load::Bool = true)::Any

Fetch data from a JSON file or directory and return it as a Dict{Symbol,Any} object.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_json_inputs.jl#L96-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.filter_edges_by_asset_type!-Tuple{Vector{MacroEnergy.AbstractEdge}, Union{Symbol, Vector{Symbol}}, Dict{Symbol, Base.RefValue{&lt;:AbstractAsset}}}" href="#MacroEnergy.filter_edges_by_asset_type!-Tuple{Vector{MacroEnergy.AbstractEdge}, Union{Symbol, Vector{Symbol}}, Dict{Symbol, Base.RefValue{&lt;:AbstractAsset}}}"><code>MacroEnergy.filter_edges_by_asset_type!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filter_edges_by_asset_type!(edges::Vector{AbstractEdge}, asset_type::Union{Symbol,Vector{Symbol}}, edge_asset_map::Dict{Symbol,Base.RefValue{&lt;:AbstractAsset}})</code></pre><p>Filter edges and their associated assets by asset type.</p><p><strong>Arguments</strong></p><ul><li><code>edges::Vector{AbstractEdge}</code>: Edges to filter</li><li><code>asset_type::Union{Symbol,Vector{Symbol}}</code>: Target asset type(s)</li><li><code>edge_asset_map::Dict{Symbol,Base.RefValue{&lt;:AbstractAsset}}</code>: Mapping of edges to assets</li></ul><p><strong>Effects</strong></p><ul><li>Modifies <code>edges</code> in-place to keep only edges matching the asset type</li><li>Modifies <code>edge_asset_map</code> to keep only matching assets</li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code>: If none of the requested asset types are found in the system</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">filter_edges_by_asset_type!(edges, :Battery, edge_asset_map)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L688-L709">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.filter_edges_by_commodity!" href="#MacroEnergy.filter_edges_by_commodity!"><code>MacroEnergy.filter_edges_by_commodity!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filter_edges_by_commodity!(edges::Vector{AbstractEdge}, commodity::Union{Symbol,Vector{Symbol}}, edge_asset_map::Dict{Symbol,Base.RefValue{&lt;:AbstractAsset}}=Dict{Symbol,Base.RefValue{&lt;:AbstractAsset}}())</code></pre><p>Filter the edges by commodity and update the edge<em>asset</em>map to match the filtered edges (optional).</p><p><strong>Arguments</strong></p><ul><li><code>edges::Vector{AbstractEdge}</code>: The edges to filter</li><li><code>commodity::Union{Symbol,Vector{Symbol}}</code>: The commodity to filter by</li><li><code>edge_asset_map::Dict{Symbol,Base.RefValue{&lt;:AbstractAsset}}</code>: The edge<em>asset</em>map to update (optional)</li></ul><p><strong>Effects</strong></p><ul><li>Modifies <code>edges</code> in-place to keep only edges matching the commodity type</li><li>If <code>edge_asset_map</code> is provided, filters it to match remaining edges</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">filter_edges_by_commodity!(edges, :Electricity)
filter_edges_by_commodity!(edges, [:Electricity, :NaturalGas], edge_asset_map)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L637-L657">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.find_available_path" href="#MacroEnergy.find_available_path"><code>MacroEnergy.find_available_path</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">find_available_path(path::String, basename::String=&quot;results&quot;; max_attempts::Int=999)</code></pre><p>Choose an available output directory with the name &quot;basename_&lt;number&gt;&quot; by appending incremental numbers to the base path.</p><p><strong>Arguments</strong></p><ul><li><code>path::String</code>: Base path for the output directory.</li><li><code>basename::String</code>: Base name of the output directory.</li><li><code>max_attempts::Int</code>: Maximum number of attempts to find an available directory (default is 999).</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: Full path to the chosen output directory.</li></ul><p>The function first expands the given path to its full path and then attempts to find an available directory by appending incremental numbers (e.g., &quot;basename<em>001&quot;, &quot;basename</em>002&quot;) up to <code>max_attempts</code> times. If an available directory is found, it returns the full path to that directory. If no available directory is found after <code>max_attempts</code> attempts, it raises an error.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; path = &quot;path/to/output&quot;
julia&gt; output_path = find_available_path(path)
# Returns &quot;path/to/output/results_001&quot; or &quot;path/to/output/results_002&quot; etc.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L526-L550">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_capacity-Tuple{MacroEnergy.System}" href="#MacroEnergy.get_optimal_capacity-Tuple{MacroEnergy.System}"><code>MacroEnergy.get_optimal_capacity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_capacity(system::System; scaling::Float64=1.0)</code></pre><p>Get the optimal capacity values for all assets/edges in a system.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system containing the assets/edges to analyze</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal capacity values for all assets/edges, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_optimal_capacity(system)
153×8 DataFrame
 Row │ commodity    commodity_subtype  zone           resource_id                        component_id                       type              variable  value    
     │ Symbol       Symbol             Symbol         Symbol                             Symbol                             Symbol            Symbol    Float64 
─────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1 │ Electricity  capacity           elec_SE        existing_solar_SE                  existing_solar_SE_edge             VRE               capacity   8.5022
   2 │ Electricity  capacity           elec_NE        existing_solar_NE                  existing_solar_NE_edge             VRE               capacity   0.0   
   3 │ Electricity  capacity           elec_NE        existing_wind_NE                   existing_wind_NE_edge              VRE               capacity   3.6545</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/capacity.jl#L19-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_costs-Tuple{JuMP.Model}" href="#MacroEnergy.get_optimal_costs-Tuple{JuMP.Model}"><code>MacroEnergy.get_optimal_costs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_costs(model::Model)</code></pre><p>Get the total, fixed, and variable costs for the system.</p><p><strong>Arguments</strong></p><ul><li><code>model::Model</code>: The optimal model after the optimization</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the total, fixed, and variable costs for the system, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_optimal_costs(model)
3×8 DataFrame
 Row │ commodity  commodity_subtype  zone    resource_id  component_id  type    variable      value   
     │ Symbol     Symbol             Symbol  Symbol       Symbol        Symbol  Symbol        Float64 
─────┼───────────────────────────────────────────────────────────────────────────────────────────────
   1 │ all        cost               all     all          all           Cost    FixedCost     22471.1
   2 │ all        cost               all     all          all           Cost    VariableCost  14316.2
   3 │ all        cost               all     all          all           Cost    TotalCost     36787.3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/costs.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_flow-Tuple{AbstractAsset}" href="#MacroEnergy.get_optimal_flow-Tuple{AbstractAsset}"><code>MacroEnergy.get_optimal_flow</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_flow(asset::AbstractAsset, scaling::Float64=1.0)</code></pre><p>Get the optimal flow values for all edges in an asset.</p><p><strong>Arguments</strong></p><ul><li><code>asset::AbstractAsset</code>: The asset containing the edges to analyze</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal flow values for all edges, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">asset = get_asset_by_id(system, :elec_SE)
get_optimal_flow(asset)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/flow.jl#L90-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_flow-Tuple{MacroEnergy.AbstractEdge}" href="#MacroEnergy.get_optimal_flow-Tuple{MacroEnergy.AbstractEdge}"><code>MacroEnergy.get_optimal_flow</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_flow(edge::AbstractEdge, scaling::Float64=1.0)</code></pre><p>Get the optimal flow values for an edge.</p><p><strong>Arguments</strong></p><ul><li><code>edge::AbstractEdge</code>: The edge to analyze</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal flow values for the edge, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">asset = get_asset_by_id(system, :elec_SE)
elec_edge = asset.elec_edge
get_optimal_flow(elec_edge)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/flow.jl#L116-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_flow-Tuple{MacroEnergy.System}" href="#MacroEnergy.get_optimal_flow-Tuple{MacroEnergy.System}"><code>MacroEnergy.get_optimal_flow</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_flow(
    system::System; 
    scaling::Float64=1.0, 
    commodity::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}=nothing, 
    asset_type::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}=nothing
)</code></pre><p>Get the optimal flow values for all edges in a system.</p><p><strong>Filtering</strong></p><p>Results can be filtered by:</p><ul><li><code>commodity</code>: Specific commodity type(s)</li><li><code>asset_type</code>: Specific asset type(s)</li></ul><p><strong>Pattern Matching</strong></p><p>Two types of pattern matching are supported:</p><ol><li><p>Parameter-free matching:</p><ul><li><code>&quot;ThermalPower&quot;</code> matches any <code>ThermalPower{...}</code> type (i.e. no need to specify parameters inside <code>{}</code>)</li></ul></li><li><p>Wildcards using &quot;*&quot;:</p><ul><li><code>&quot;ThermalPower*&quot;</code> matches <code>ThermalPower{Fuel}</code>, <code>ThermalPowerCCS{Fuel}</code>, etc.</li><li><code>&quot;CO2*&quot;</code> matches <code>CO2</code>, <code>CO2Captured</code>, etc.</li></ul></li></ol><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system containing the all edges to output   </li><li><code>scaling::Float64</code>: The scaling factor for the results.</li><li><code>commodity::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}</code>: The commodity to filter by</li><li><code>asset_type::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}</code>: The asset type to filter by</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal flow values for all edges, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_optimal_flow(system)
186984×11 DataFrame
    Row │ commodity    commodity_subtype  zone        resource_id                component_id                       type              variable  segment  time   value     
        │ Symbol       Symbol             Symbol      Symbol                     Symbol                             Symbol            Symbol    Int64    Int64  Float64
────────┼──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
      1 │ Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      1  0.0    
      2 │ Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      2  0.0    
      3 │ Biomass      flow               bioherb_SE  SE_BECCS_Electricity_Herb  SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  flow            1      3  0.0    
      ...
# Filter by commodity
get_optimal_flow(system, commodity=&quot;Electricity&quot;)
# Filter by commodity and asset type using parameter-free matching
get_optimal_flow(system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower&quot;) # only ThermalPower{Fuel} will be returned
# Filter by commodity and asset type using wildcard matching
get_optimal_flow(system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower*&quot;) # all types starting with ThermalPower (e.g., ThermalPower{Fuel}, ThermalPowerCCS{Fuel}) will be returned)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/flow.jl#L2-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_new_capacity-Tuple{MacroEnergy.System}" href="#MacroEnergy.get_optimal_new_capacity-Tuple{MacroEnergy.System}"><code>MacroEnergy.get_optimal_new_capacity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_new_capacity(system::System; scaling::Float64=1.0)</code></pre><p>Get the optimal new capacity values for all assets/edges in a system.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system containing the assets/edges to analyze</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal new capacity values for all assets/edges, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_optimal_new_capacity(system)
153×8 DataFrame
 Row │ commodity    commodity_subtype  zone           resource_id                        component_id                       type              variable      value  
     │ Symbol       Symbol             Symbol         Symbol                             Symbol                             Symbol            Symbol        Float64
─────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1 │ Biomass      capacity           bioherb_SE     SE_BECCS_Electricity_Herb          SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  new_capacity      0.0
   2 │ Biomass      capacity           bioherb_MIDAT  MIDAT_BECCS_Electricity_Herb       MIDAT_BECCS_Electricity_Herb_bio…  BECCSElectricity  new_capacity      0.0
   3 │ Biomass      capacity           bioherb_NE     NE_BECCS_Electricity_Herb          NE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  new_capacity      0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/capacity.jl#L45-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_optimal_retired_capacity-Tuple{MacroEnergy.System}" href="#MacroEnergy.get_optimal_retired_capacity-Tuple{MacroEnergy.System}"><code>MacroEnergy.get_optimal_retired_capacity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_optimal_retired_capacity(system::System; scaling::Float64=1.0)</code></pre><p>Get the optimal retired capacity values for all assets/edges in a system.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: The system containing the assets/edges to analyze</li><li><code>scaling::Float64</code>: The scaling factor for the results.</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: A dataframe containing the optimal retired capacity values for all assets/edges, with missing columns removed</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_optimal_retired_capacity(system)
153×8 DataFrame
 Row │ commodity    commodity_subtype  zone           resource_id                        component_id                       type              variable      value    
     │ Symbol       Symbol             Symbol         Symbol                             Symbol                             Symbol            Symbol        Float64  
─────┼─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
   1 │ Biomass      capacity           bioherb_SE     SE_BECCS_Electricity_Herb          SE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  retired_capacity  0.0
   2 │ Biomass      capacity           bioherb_MIDAT  MIDAT_BECCS_Electricity_Herb       MIDAT_BECCS_Electricity_Herb_bio…  BECCSElectricity  retired_capacity  0.0
   3 │ Biomass      capacity           bioherb_NE     NE_BECCS_Electricity_Herb          NE_BECCS_Electricity_Herb_biomas…  BECCSElectricity  retired_capacity  0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/capacity.jl#L70-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_output_layout" href="#MacroEnergy.get_output_layout"><code>MacroEnergy.get_output_layout</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_output_layout(system::System, variable::Union{Nothing,Symbol}=nothing)::String</code></pre><p>Get the output layout (&quot;wide&quot; or &quot;long&quot;) for a specific variable from system settings.</p><p><strong>Arguments</strong></p><ul><li><code>system::System</code>: System containing output layout settings</li><li><code>variable::Union{Nothing,Symbol}=nothing</code>: Variable to get layout for (e.g., :Cost, :Flow)</li></ul><p><strong>Returns</strong></p><p>String indicating layout format: &quot;wide&quot; or &quot;long&quot;</p><p><strong>Settings Format</strong></p><p>The <code>OutputLayout</code> setting can be specified in three ways:</p><ol><li><p>Global string setting:</p><pre><code class="language-julia hljs">settings = (OutputLayout=&quot;wide&quot;,)  # Same layout for all variables</code></pre></li><li><p>Per-variable settings using NamedTuple:</p><pre><code class="language-julia hljs">settings = (OutputLayout=(Cost=&quot;wide&quot;, Flow=&quot;long&quot;),)</code></pre></li><li><p>Default behavior:</p><ul><li>Returns &quot;long&quot; if setting is missing or invalid</li><li>Logs warning for unsupported types or missing variables</li></ul></li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Global layout
system = System(settings=(OutputLayout=&quot;wide&quot;,))
get_output_layout(system, :Cost)  # Returns &quot;wide&quot;

# Per-variable layout
system = System(settings=(OutputLayout=(Cost=&quot;wide&quot;, Flow=&quot;long&quot;),))
get_output_layout(system, :Cost)  # Returns &quot;wide&quot;
get_output_layout(system, :Flow)  # Returns &quot;long&quot;
get_output_layout(system, :Other) # Returns &quot;long&quot; with warning</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L566-L607">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_value-Tuple{AbstractDict, Vector{Symbol}}" href="#MacroEnergy.get_value-Tuple{AbstractDict, Vector{Symbol}}"><code>MacroEnergy.get_value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_value(dict::AbstractDict, keys::Vector{Symbol})</code></pre><p>Get the value from a dictionary based on a sequence of keys.</p><p><strong>Arguments</strong></p><ul><li><code>dict::AbstractDict</code>: The dictionary from which to retrieve the value.</li><li><code>keys::Vector{Symbol}</code>: The sequence of keys to traverse the dictionary.</li></ul><p><strong>Returns</strong></p><ul><li>The value retrieved from the dictionary based on the given keys.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dict = Dict(:a =&gt; Dict(:b =&gt; 1, :c =&gt; Dict(:b =&gt; 2)))
get_value(dict, [:a, :b]) # returns 1
get_value(dict, [:a, :c, :b]) # returns 2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_tools/load_timeseries.jl#L77-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.get_value_and_keys" href="#MacroEnergy.get_value_and_keys"><code>MacroEnergy.get_value_and_keys</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_value_and_keys(dict::AbstractDict, target_key::Symbol, keys=Symbol[])</code></pre><p>Recursively searches for a target key in a dictionary and returns a list of  tuples containing the value associated with the target key and the keys leading  to it. This function is used to replace the path to a timeseries file with the actual vector of data.</p><p><strong>Arguments</strong></p><ul><li><code>dict::AbstractDict</code>: The (nested) dictionary to search in.</li><li><code>target_key::Symbol</code>: The key to search for.</li><li><code>keys=Symbol[]</code>: (optional) The keys leading to the current dictionary.</li></ul><p><strong>Returns</strong></p><ul><li><code>value_keys</code>: A list of tuples, where each tuple contains                - the value associated with the target key               - the keys leading to it in the nested dictionary.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dict = Dict(:a =&gt; Dict(:b =&gt; 1, :c =&gt; Dict(:b =&gt; 2)))
get_value_and_keys(dict, :b) # returns [(1, [:a, :b]), (2, [:a, :c, :b])]</code></pre><p>Where the first element of the tuple is the value of the key :b and the second  element is the list of keys to reach that value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_tools/load_timeseries.jl#L32-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.json_to_csv" href="#MacroEnergy.json_to_csv"><code>MacroEnergy.json_to_csv</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">json_to_csv(json_data::AbstractDict{Symbol, Any}, vec_data::VectorData=VectorData(), nesting_str::AbstractString=&quot;--&quot;)

Convert a JSON object to a CSV file. The Dict should contain a single 
asset described by :type, :instance_data, and possibly :global_data fields.

# Arguments
- `json_data`: The JSON object to convert.
- `vec_data`: The VectorData object to store the timeseries or other vector data in.
- `nesting_str`: The string used to denote nested properties.

# Returns
- A vector of OrderedDicts containing the data for each instance</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_csv_inputs.jl#L231-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_csv-Union{Tuple{AbstractString}, Tuple{S}} where S&lt;:Union{Symbol, Vector{Symbol}}" href="#MacroEnergy.load_csv-Union{Tuple{AbstractString}, Tuple{S}} where S&lt;:Union{Symbol, Vector{Symbol}}"><code>MacroEnergy.load_csv</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_time_series_data(file_path::AbstractString, header::AbstractVector{Symbol})::Dict{Symbol,Any}

Load time series data from one or more headers in a CSV file and return as a DataFrame.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_csv_inputs.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_default_system_data-Tuple{}" href="#MacroEnergy.load_default_system_data-Tuple{}"><code>MacroEnergy.load_default_system_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_default_system_data()::Dict{Symbol,Any}</code></pre><p>Load the default system data from a JSON file.  This describes the default locations for the system data files.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/default_system_data.jl#L12-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_json_inputs-Tuple{AbstractString}" href="#MacroEnergy.load_json_inputs-Tuple{AbstractString}"><code>MacroEnergy.load_json_inputs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_json_inputs(file_path::AbstractString; rel_path::AbstractString=dirname(file_path), lazy_load::Bool = true)::Dict{Symbol,Any}

Load JSON data from a file and return a Dict{Symbol,Any} object. The data can all be included in the 
specified JSON file or distributed across multiple files and directories, with each source specified
using &quot;path&quot; or &quot;timeseries&quot; keys.\n 
The `rel_path` argument is used to specify the path relative to which the file paths of this distributed
data should be resolved.\n
If `lazy_load` is set to `true`, then only the top-level data in the specified JSON file will be loaded. 
If `lazy_load` is set to `false`, then the distrinuted data will be loaded recursively into the 
appropriate data structures.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_json_inputs.jl#L5-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_system_data" href="#MacroEnergy.load_system_data"><code>MacroEnergy.load_system_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_system_data(file_path::AbstractString, rel_path::AbstractString; lazy_load::Bool = true)::Dict{Symbol,Any}</code></pre><p>Load the system data (currently only from a JSON file) given a file path and directory to search for the file in. All other file names defined in the system data file are assumed to be relative to rel_path.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_system_data.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.load_system_data-Tuple{AbstractString, MacroEnergy.System}" href="#MacroEnergy.load_system_data-Tuple{AbstractString, MacroEnergy.System}"><code>MacroEnergy.load_system_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load_system_data(system::System, file_path::AbstractString)::Dict{Symbol,Any}</code></pre><p>Load the system data (currently only from a JSON file) given a file path and existing System. All other file names defined in the system data file are assumed to be relative to the data_dirpath field of the System.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_system_data.jl#L29-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{&lt;:VRE}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{&lt;:VRE}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{&lt;:VRE}, data::AbstractDict{Symbol, Any}, system::System) -&gt; VRE

VRE is an alias for Union{SolarPV, WindTurbine}

Necessary data fields:
 - transforms: Dict{Symbol, Any}
    - id: String
    - timedata: String
- edges: Dict{Symbol, Any}
    - edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/vre.jl#L54-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{Battery}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{Battery}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{Battery}, data::AbstractDict{Symbol, Any}, system::System) -&gt; Battery

Necessary data fields:
 - storage: Dict{Symbol, Any}
    - id: String
    - commodity: String
    - can_retire: Bool
    - can_expand: Bool
    - existing_capacity: Float64
    - investment_cost: Float64
    - fixed_om_cost: Float64
    - loss_fraction: Float64
    - min_duration: Float64
    - max_duration: Float64
    - min_storage_level: Float64
    - min_capacity: Float64
    - max_capacity: Float64
    - constraints: Vector{AbstractTypeConstraint}
 - edges: Dict{Symbol, Any}
    - charge_edge: Dict{Symbol, Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - efficiency: Float64
    - discharge_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - efficiency
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/battery.jl#L77-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{Electrolyzer}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{Electrolyzer}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{Electrolyzer}, data::AbstractDict{Symbol, Any}, system::System) -&gt; Electrolyzer

Necessary data fields:
 - transforms: Dict{Symbol, Any}
    - id: String
    - timedata: String
    - efficiency_rate: Float64
    - constraints: Vector{AbstractTypeConstraint}
- edges: Dict{Symbol, Any}
    - h2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}
    - e_edge: Dict{Symbol, Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/electrolyzer.jl#L59-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{FuelCell}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{FuelCell}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{FuelCell}, data::AbstractDict{Symbol, Any}, system::System) -&gt; FuelCell

Necessary data fields:
 - transforms: Dict{Symbol, Any}
    - id: String
    - timedata: String
    - efficiency_rate: Float64
    - constraints: Vector{AbstractTypeConstraint}
- edges: Dict{Symbol, Any}
    - h2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}
    - elec_edge: Dict{Symbol, Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/fuelcell.jl#L58-L84">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{HydroRes}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{HydroRes}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{HydroRes}, data::AbstractDict{Symbol, Any}, system::System) -&gt; HydroRes</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/hydrores.jl#L81-L83">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{MustRun}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{MustRun}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{MustRun}, data::AbstractDict{Symbol, Any}, system::System) -&gt; MustRun</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/mustrun.jl#L52-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{NaturalGasDAC}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{NaturalGasDAC}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{NaturalGasDAC}, data::AbstractDict{Symbol, Any}, system::System) -&gt; NaturalGasDAC</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/natgasdac.jl#L78-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{ThermalHydrogenCCS}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{ThermalHydrogenCCS}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{ThermalHydrogenCCS}, data::AbstractDict{Symbol, Any}, system::System) -&gt; ThermalHydrogenCCS

Necessary data fields:
 - transforms: Dict{Symbol, Any}
    - id: String
    - timedata: String
    - efficiency_rate: Float64
    - emission_rate: Float64
    - constraints: Vector{AbstractTypeConstraint}
- edges: Dict{Symbol, Any}
    - elec_edge: Dict{Symbol,Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
    - h2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - min_up_time: Int
        - min_down_time: Int
        - startup_cost: Float64
        - startup_fuel_consumption: Float64
        - startup_fuel_balance_id: Symbol
        - constraints: Vector{AbstractTypeConstraint}
    - fuel_edge: Dict{Symbol, Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}
    - co2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}
    - co2_captured_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/thermalhydrogenccs.jl#L92-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.make-Tuple{Type{ThermalHydrogen}, AbstractDict{Symbol, Any}, MacroEnergy.System}" href="#MacroEnergy.make-Tuple{Type{ThermalHydrogen}, AbstractDict{Symbol, Any}, MacroEnergy.System}"><code>MacroEnergy.make</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">make(::Type{ThermalHydrogen}, data::AbstractDict{Symbol, Any}, system::System) -&gt; ThermalHydrogen

Necessary data fields:
 - transforms: Dict{Symbol, Any}
    - id: String
    - timedata: String
    - efficiency_rate: Float64
    - emission_rate: Float64
    - constraints: Vector{AbstractTypeConstraint}
- edges: Dict{Symbol, Any}
    - elec_edge: Dict{Symbol,Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
    - h2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - min_up_time: Int
        - min_down_time: Int
        - startup_cost: Float64
        - startup_fuel_consumption: Float64
        - startup_fuel_balance_id: Symbol
        - constraints: Vector{AbstractTypeConstraint}
    - fuel_edge: Dict{Symbol, Any}
        - id: String
        - start_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}
    - co2_edge: Dict{Symbol, Any}
        - id: String
        - end_vertex: String
        - unidirectional: Bool
        - has_capacity: Bool
        - can_retire: Bool
        - can_expand: Bool
        - constraints: Vector{AbstractTypeConstraint}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/assets/thermalhydrogen.jl#L87-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.prep_system_data-Tuple{AbstractString}" href="#MacroEnergy.prep_system_data-Tuple{AbstractString}"><code>MacroEnergy.prep_system_data</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prep_system_data(file_path::AbstractString)::Nothing</code></pre><p>This attempts to load the system data from the file at file_path, adds any missing fields from the default system data, and writes the updated system data back to the file. In the future, we may change this to not write to the file, but for now, it&#39;s a quick way to ensure the system data is up-to-date.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/default_system_data.jl#L33-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.reshape_long-Tuple{DataFrames.DataFrame}" href="#MacroEnergy.reshape_long-Tuple{DataFrames.DataFrame}"><code>MacroEnergy.reshape_long</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reshape_long(df::DataFrame; id_cols::Vector{Symbol}=Symbol[], view::Bool=true)</code></pre><p>Reshape a DataFrame from wide to long format.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: Input DataFrame</li><li><code>id_cols::Vector{Symbol}</code>: Columns to use as identifiers when stacking</li><li><code>view::Bool</code>: Whether to return a view of the DataFrame instead of a copy</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df_wide = DataFrame(id=[1,2], a=[10,20], b=[30,40])
df_long = reshape_long(df_wide, :time, :component_id, :value)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L369-L384">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.reshape_wide" href="#MacroEnergy.reshape_wide"><code>MacroEnergy.reshape_wide</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reshape_wide(df::DataFrame; variable_col::Symbol=:variable, value_col::Symbol=:value)</code></pre><p>Reshape a DataFrame from long to wide format.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: Input DataFrame</li><li><code>variable_col::Symbol</code>: Column name containing variable names</li><li><code>value_col::Symbol</code>: Column name containing values</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df_long = DataFrame(id=[1,1,2,2], variable=[:a,:b,:a,:b], value=[10,30,20,40])
df_wide = reshape_wide(df_long)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L317-L332">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.reshape_wide-Tuple{DataFrames.DataFrame, Union{Symbol, Vector{Symbol}}, Symbol, Symbol}" href="#MacroEnergy.reshape_wide-Tuple{DataFrames.DataFrame, Union{Symbol, Vector{Symbol}}, Symbol, Symbol}"><code>MacroEnergy.reshape_wide</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reshape_wide(df::DataFrame, id_cols::Union{Vector{Symbol},Symbol}, variable_col::Symbol, value_col::Symbol)</code></pre><p>Reshape a DataFrame from long to wide format.</p><p><strong>Arguments</strong></p><ul><li><code>df::DataFrame</code>: DataFrame in long format to be reshaped</li><li><code>id_cols::Union{Vector{Symbol},Symbol}</code>: Column(s) to use as identifiers</li><li><code>variable_col::Symbol</code>: Column containing variable names that will become new columns</li><li><code>value_col::Symbol</code>: Column containing values that will fill the new columns</li></ul><p><strong>Returns</strong></p><ul><li><code>DataFrame</code>: Reshaped DataFrame in wide format</li></ul><p><strong>Throws</strong></p><ul><li><code>ArgumentError</code>: If required columns are not present in the DataFrame</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">df_wide = reshape_wide(df, :year, :variable, :value)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L340-L361">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.search_assets-Tuple{Union{AbstractString, Vector{&lt;:AbstractString}}, Vector{&lt;:AbstractString}}" href="#MacroEnergy.search_assets-Tuple{Union{AbstractString, Vector{&lt;:AbstractString}}, Vector{&lt;:AbstractString}}"><code>MacroEnergy.search_assets</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">search_assets(asset_type, available_types)</code></pre><p>Search for asset types in a list of available assets, supporting wildcards and parametric types.</p><p><strong>Arguments</strong></p><ul><li><code>asset_type::Union{AbstractString,Vector{&lt;:AbstractString}}</code>: Type(s) to search for</li><li><code>available_types::Vector{&lt;:AbstractString}</code>: Available asset types to search from</li></ul><p><strong>Returns</strong></p><p>Tuple of two vectors:</p><ol><li><code>Vector{Symbol}</code>: Found asset types</li><li><code>Vector{Symbol}</code>: Missing asset types (only if no matches found)</li></ol><p><strong>Pattern Matching</strong></p><p>Supports three types of matches:</p><ol><li>Exact match: <code>&quot;Battery&quot;</code> matches <code>&quot;Battery&quot;</code></li><li>Parametric match: <code>&quot;ThermalPower&quot;</code> matches <code>&quot;ThermalPower{Fuel}&quot;</code></li><li>Wildcard match: <code>&quot;ThermalPower*&quot;</code> matches both <code>&quot;ThermalPower{Fuel}&quot;</code> and <code>&quot;ThermalPowerCCS{Fuel}&quot;</code></li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Available assets
assets = [&quot;Battery&quot;, &quot;ThermalPower{Coal}&quot;, &quot;ThermalPower{Gas}&quot;]

# Exact match
found, missing = search_assets(&quot;Battery&quot;, assets)
# found = [:Battery], missing = []

# Parametric match
found, missing = search_assets(&quot;ThermalPower&quot;, assets)
# found = [:ThermalPower{Coal}, :ThermalPower{Gas}], missing = []

# Wildcard match
found, missing = search_assets(&quot;ThermalPower*&quot;, assets)
# found = [:ThermalPower{Coal}, :ThermalPower{Gas}], missing = []

# Multiple types
found, missing = search_assets([&quot;Battery&quot;, &quot;Solar&quot;], assets)
# found = [:Battery], missing = [:Solar]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L818-L859">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.search_commodities-Tuple{Union{AbstractString, Vector{&lt;:AbstractString}}, Vector{&lt;:AbstractString}}" href="#MacroEnergy.search_commodities-Tuple{Union{AbstractString, Vector{&lt;:AbstractString}}, Vector{&lt;:AbstractString}}"><code>MacroEnergy.search_commodities</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">search_commodities(commodities, available_commodities)</code></pre><p>Search for commodity types in a list of available commodities, supporting wildcards and subtypes.</p><p><strong>Arguments</strong></p><ul><li><code>commodities::Union{AbstractString,Vector{&lt;:AbstractString}}</code>: Commodity type(s) to search for</li><li><code>available_commodities::Vector{&lt;:AbstractString}</code>: Available commodity types to search from</li></ul><p><strong>Returns</strong></p><p>Tuple of two vectors:</p><ol><li><code>Vector{Symbol}</code>: Found commodity types</li><li><code>Vector{Symbol}</code>: Missing commodity types (only if no matches found)</li></ol><p><strong>Pattern Matching</strong></p><p>Supports two types of matches:</p><ol><li>Exact match: <code>&quot;Electricity&quot;</code> matches only <code>&quot;Electricity&quot;</code></li><li>Wildcard match: <code>&quot;CO2*&quot;</code> matches both <code>CO2</code> and its subtypes (e.g., <code>CO2Captured</code>)</li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Available commodities
commodities = [&quot;Electricity&quot;, &quot;CO2&quot;, &quot;CO2Captured&quot;]

# Exact match
found, missing = search_commodities(&quot;Electricity&quot;, commodities)
# found = [:Electricity], missing = []

# Wildcard match
found, missing = search_commodities(&quot;CO2*&quot;, commodities)
# found = [:CO2, :CO2Captured], missing = []

# Multiple types
found, missing = search_commodities([&quot;Electricity&quot;, &quot;Heat&quot;], commodities)
# found = [:Electricity], missing = [:Heat]</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Wildcard searches check against registered commodity types in MacroEnergy.jl.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L746-L785">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.set_value-Tuple{AbstractDict, Vector{Symbol}, Any}" href="#MacroEnergy.set_value-Tuple{AbstractDict, Vector{Symbol}, Any}"><code>MacroEnergy.set_value</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_value(dict::AbstractDict, keys::Vector{Symbol}, new_value)</code></pre><p>Set the value of a nested dictionary given a list of keys.</p><p><strong>Arguments</strong></p><ul><li><code>dict::AbstractDict</code>: The dictionary to modify.</li><li><code>keys::Vector{Symbol}</code>: A list of keys representing the path to the value to </li></ul><p>be modified.</p><ul><li><code>new_value</code>: The new value to set.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">dict = Dict(:a =&gt; Dict(:b =&gt; 1, :c =&gt; Dict(:b =&gt; 2)))
set_value(dict, [:a, :b], 3)
get_value(dict, [:a, :b]) # returns 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/load_inputs/load_tools/load_timeseries.jl#L104-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.struct_info-Union{Tuple{Type{T}}, Tuple{T}, Tuple{Type{T}, Bool}} where T" href="#MacroEnergy.struct_info-Union{Tuple{Type{T}}, Tuple{T}, Tuple{Type{T}, Bool}} where T"><code>MacroEnergy.struct_info</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct_info(t::Type{T}) where T

Return a vector of tuples with the field names and types of a struct.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/networks/asset.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.timestepbefore-Tuple{Int64, Int64, Vector{StepRange{Int64, Int64}}}" href="#MacroEnergy.timestepbefore-Tuple{Int64, Int64, Vector{StepRange{Int64, Int64}}}"><code>MacroEnergy.timestepbefore</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">timestepbefore(t::Int, h::Int,subperiods::Vector{StepRange{Int64,Int64})</code></pre><p>Determines the time step that is h steps before index t in subperiod p with circular indexing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/model/time_management.jl#L29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.write_capacity-Tuple{AbstractString, MacroEnergy.System}" href="#MacroEnergy.write_capacity-Tuple{AbstractString, MacroEnergy.System}"><code>MacroEnergy.write_capacity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_capacity(
    file_path::AbstractString, 
    system::System; 
    scaling::Float64=1.0, 
    drop_cols::Vector{AbstractString}=String[], 
    commodity::Union{AbstractString,Vector{AbstractString},Nothing}=nothing, 
    asset_type::Union{AbstractString,Vector{AbstractString},Nothing}=nothing
)</code></pre><p>Write the optimal capacity results for all assets/edges in a system to a file.  The extension of the file determines the format of the file. <code>Capacity</code>, <code>NewCapacity</code>, and <code>RetiredCapacity</code> are first concatenated and then written to the file.</p><p><strong>Filtering</strong></p><p>Results can be filtered by:</p><ul><li><code>commodity</code>: Specific commodity type(s)</li><li><code>asset_type</code>: Specific asset type(s)</li></ul><p><strong>Pattern Matching</strong></p><p>Two types of pattern matching are supported:</p><ol><li><p>Parameter-free matching:</p><ul><li><code>&quot;ThermalPower&quot;</code> matches any <code>ThermalPower{...}</code> type (i.e. no need to specify parameters inside <code>{}</code>)</li></ul></li><li><p>Wildcards using &quot;*&quot;:</p><ul><li><code>&quot;ThermalPower*&quot;</code> matches <code>ThermalPower{Fuel}</code>, <code>ThermalPowerCCS{Fuel}</code>, etc.</li><li><code>&quot;CO2*&quot;</code> matches <code>CO2</code>, <code>CO2Captured</code>, etc.</li></ul></li></ol><p><strong>Arguments</strong></p><ul><li><code>file_path::AbstractString</code>: The path to the file where the results will be written</li><li><code>system::System</code>: The system containing the assets/edges to analyze as well as the settings for the output</li><li><code>scaling::Float64</code>: The scaling factor for the results</li><li><code>drop_cols::Vector{AbstractString}</code>: Columns to drop from the DataFrame</li><li><code>commodity::Union{AbstractString,Vector{AbstractString},Nothing}</code>: The commodity to filter by</li><li><code>asset_type::Union{AbstractString,Vector{AbstractString},Nothing}</code>: The asset type to filter by</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code>: The function returns nothing, but writes the results to the file</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">write_capacity(&quot;capacity.csv&quot;, system)
# Filter by commodity
write_capacity(&quot;capacity.csv&quot;, system, commodity=&quot;Electricity&quot;)
# Filter by commodity and asset type using parameter-free matching
write_capacity(&quot;capacity.csv&quot;, system, asset_type=&quot;ThermalPower&quot;)
# Filter by asset type using wildcard matching
write_capacity(&quot;capacity.csv&quot;, system, asset_type=&quot;ThermalPower*&quot;)
# Filter by commodity and asset type
write_capacity(&quot;capacity.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=[&quot;ThermalPower&quot;, &quot;Battery&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/capacity.jl#L99-L151">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.write_costs-Tuple{AbstractString, MacroEnergy.System, JuMP.Model}" href="#MacroEnergy.write_costs-Tuple{AbstractString, MacroEnergy.System, JuMP.Model}"><code>MacroEnergy.write_costs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_costs(
    file_path::AbstractString, 
    system::System, 
    model::Model; 
    scaling::Float64=1.0, 
    drop_cols::Vector{&lt;:AbstractString}=String[]
)</code></pre><p>Write the optimal costs for the system to a file. The extension of the file determines the format of the file.</p><p><strong>Arguments</strong></p><ul><li><code>file_path::AbstractString</code>: The path to the file where the results will be written</li><li><code>system::System</code>: The system containing the assets/edges to analyze as well as the settings for the output</li><li><code>model::Model</code>: The optimal model after the optimization</li><li><code>scaling::Float64</code>: The scaling factor for the results</li><li><code>drop_cols::Vector{&lt;:AbstractString}</code>: Columns to drop from the DataFrame</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code>: The function returns nothing, but writes the results to the file</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/costs.jl#L31-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.write_dataframe" href="#MacroEnergy.write_dataframe"><code>MacroEnergy.write_dataframe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_dataframe(
    file_path::AbstractString, 
    df::AbstractDataFrame, 
    drop_cols::Vector{&lt;:AbstractString}=String[]
)</code></pre><p>Write a DataFrame to a file in the appropriate format based on file extension. Supported formats: .csv, .csv.gz, .parquet</p><p><strong>Arguments</strong></p><ul><li><code>file_path::AbstractString</code>: Path where to save the file</li><li><code>df::AbstractDataFrame</code>: DataFrame to write</li><li><code>drop_cols::Vector{&lt;:AbstractString}</code>: Columns to drop from the DataFrame</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L425-L439">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.write_flow-Tuple{AbstractString, MacroEnergy.System}" href="#MacroEnergy.write_flow-Tuple{AbstractString, MacroEnergy.System}"><code>MacroEnergy.write_flow</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_flow(
    file_path::AbstractString, 
    system::System; 
    scaling::Float64=1.0, 
    drop_cols::Vector{&lt;:AbstractString}=String[],
    commodity::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}=nothing,
    asset_type::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}=nothing
)</code></pre><p>Write the optimal flow results for the system to a file. The extension of the file determines the format of the file.</p><p><strong>Filtering</strong></p><p>Results can be filtered by:</p><ul><li><code>commodity</code>: Specific commodity type(s)</li><li><code>asset_type</code>: Specific asset type(s)</li></ul><p><strong>Pattern Matching</strong></p><p>Two types of pattern matching are supported:</p><ol><li><p>Parameter-free matching:</p><ul><li><code>&quot;ThermalPower&quot;</code> matches any <code>ThermalPower{...}</code> type (i.e. no need to specify parameters inside <code>{}</code>)</li></ul></li><li><p>Wildcards using &quot;*&quot;:</p><ul><li><code>&quot;ThermalPower*&quot;</code> matches <code>ThermalPower{Fuel}</code>, <code>ThermalPowerCCS{Fuel}</code>, etc.</li><li><code>&quot;CO2*&quot;</code> matches <code>CO2</code>, <code>CO2Captured</code>, etc.</li></ul></li></ol><p><strong>Arguments</strong></p><ul><li><code>file_path::AbstractString</code>: The path to the file where the results will be written</li><li><code>system::System</code>: The system containing the edges to analyze as well as the settings for the output</li><li><code>scaling::Float64</code>: The scaling factor for the results</li><li><code>drop_cols::Vector{&lt;:AbstractString}</code>: Columns to drop from the DataFrame</li><li><code>commodity::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}</code>: The commodity to filter by</li><li><code>asset_type::Union{AbstractString,Vector{&lt;:AbstractString},Nothing}</code>: The asset type to filter by</li></ul><p><strong>Returns</strong></p><ul><li><code>nothing</code>: The function returns nothing, but writes the results to the file</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">write_flow(&quot;flow.csv&quot;, system)
# Filter by commodity
write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;)
# Filter by commodity and asset type using parameter-free matching
write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower&quot;)
# Filter by commodity and asset type using wildcard matching
write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower*&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/flow.jl#L142-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MacroEnergy.write_results-Tuple{AbstractString, MacroEnergy.System, JuMP.Model}" href="#MacroEnergy.write_results-Tuple{AbstractString, MacroEnergy.System, JuMP.Model}"><code>MacroEnergy.write_results</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write_results(file_path::AbstractString, system::System, model::Model)</code></pre><p>Collects all the results as a <code>DataFrame</code> and then writes them to disk after the optimization is performed. </p><p><strong>Arguments</strong></p><ul><li><code>file_path::AbstractString</code>: full path of the file to export. </li><li><code>system::System</code>: The system object containing the case inputs.</li><li><code>model::Model</code>: The model being optimized.</li></ul><p><strong>Returns</strong></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">write_results(case_path * &quot;results.csv&quot;, system, model) # CSV
write_results(case_path * &quot;results.csv.gz&quot;, system, model)  # GZIP
write_results(case_path * &quot;results.parquet&quot;, system, model) # PARQUET</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/macroenergy/MacroEnergy.jl/blob/2fa0f168f9f7ec5f74103697326a3224779da186/src/write_outputs/write_output_utilities.jl#L394-L412">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../data_model/">« Data model</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Wednesday 30 April 2025 21:17">Wednesday 30 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
